<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin - ZAINE PARFUM</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#f4f7fb',
                            100: '#e9eff7',
                            200: '#c8d7ea',
                            300: '#a7bfdd',
                            400: '#668fc3',
                            500: '#2450a9',
                            600: '#204898',
                            700: '#193778',
                            800: '#122758',
                            900: '#0d1b40',
                        },
                        accent: '#e4b58b',
                    },
                },
            },
        };
    </script>
    <link rel="stylesheet" href="./animations.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
</head>

<body class="min-h-screen bg-primary-900 text-slate-50">
    <!-- Header -->
    <header class="border-b border-white/10 bg-primary-900/90 backdrop-blur sticky top-0 z-40">
        <div class="max-w-7xl mx-auto px-4 py-3 flex items-center justify-between gap-4">
            <div class="flex items-center gap-3">
                <img src="./image.png" alt="Logo Zaine Parfum" class="h-12 w-auto object-contain" />
                <div>
                    <h1 class="text-xl tracking-[0.35em] font-semibold leading-none">ZAINE</h1>
                    <p class="text-xs uppercase tracking-[0.3em] text-slate-300 mt-1">Admin Panel</p>
                </div>
            </div>
            <div class="flex items-center gap-3">
                <div id="userInfo" class="text-right text-sm">
                    <p id="userEmail" class="text-slate-300"></p>
                </div>
                <a href="index.html"
                    class="inline-flex items-center gap-2 rounded-full border border-white/20 px-4 py-2 text-sm hover:bg-white/10 transition">
                    <i class="fa-solid fa-home"></i>
                    <span>Site</span>
                </a>
                <button id="logoutButton"
                    class="inline-flex items-center gap-2 rounded-full bg-red-500/20 border border-red-500/30 text-red-300 px-4 py-2 text-sm hover:bg-red-500/30 transition">
                    <i class="fa-solid fa-right-from-bracket"></i>
                    <span>Déconnexion</span>
                </button>
            </div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 py-8">
        <div class="grid lg:grid-cols-[1.2fr,0.8fr] gap-6">
            <!-- Liste des produits -->
            <div class="bg-primary-950/60 border border-white/10 rounded-3xl p-6">
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-xl font-semibold tracking-wide">Packs Premium</h2>
                    <div class="flex items-center gap-3">
                        <div class="relative">
                            <i
                                class="fa-solid fa-magnifying-glass text-slate-500 absolute left-3 top-1/2 -translate-y-1/2 text-xs"></i>
                            <input id="searchInput" type="text" placeholder="Rechercher..."
                                class="rounded-full bg-primary-900 border border-white/10 pl-8 pr-3 py-2 text-xs text-slate-200 placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-accent/60 w-48" />
                        </div>
                        <button id="resetFormBtn"
                            class="inline-flex items-center gap-2 rounded-full bg-accent text-primary-900 px-4 py-2 text-xs font-medium hover:bg-white transition">
                            <i class="fa-solid fa-plus"></i>
                            Nouveau
                        </button>
                    </div>
                </div>

                <div class="overflow-auto">
                    <table class="w-full text-sm">
                        <thead class="bg-primary-900/80 border-b border-white/10 text-slate-300">
                            <tr>
                                <th class="text-left px-3 py-2 font-medium w-12">Img</th>
                                <th class="text-left px-2 py-2 font-medium">Nom</th>
                                <th class="text-left px-2 py-2 font-medium">Cat.</th>
                                <th class="text-right px-3 py-2 font-medium">Prix</th>
                                <th class="text-right px-3 py-2 font-medium">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="productsList" class="divide-y divide-white/5"></tbody>
                    </table>
                </div>
                <div id="loadingProducts" class="text-center py-8">
                    <div class="spinner-lg mx-auto"></div>
                    <p class="text-sm text-slate-400 mt-3">Chargement des produits...</p>
                </div>
            </div>

            <!-- Formulaire -->
            <div class="bg-primary-950/60 border border-white/10 rounded-3xl p-6">
                <h3 id="formTitle" class="text-lg font-semibold mb-6">Ajouter un pack</h3>
                <form id="productForm" class="space-y-4">
                    <input type="hidden" id="productId" />

                    <div class="space-y-1">
                        <label for="productName" class="text-xs text-slate-300">Nom du pack</label>
                        <input id="productName" type="text" required
                            class="w-full rounded-xl bg-primary-900 border border-white/15 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-accent/70" />
                    </div>

                    <div class="space-y-1">
                        <label for="productCategory" class="text-xs text-slate-300">Type</label>
                        <select id="productCategory" required
                            class="w-full rounded-xl bg-primary-900 border border-white/15 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-accent/70">
                            <option value="pack">Pack Premium</option>
                        </select>
                    </div>

                    <div class="space-y-1">
                        <label for="productPrice" class="text-xs text-slate-300">Prix (DH)</label>
                        <input id="productPrice" type="number" step="0.01" required
                            class="w-full rounded-xl bg-primary-900 border border-white/15 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-accent/70" />
                    </div>

                    <div class="space-y-1">
                        <label for="productImage" class="text-xs text-slate-300">Image (fichier local)</label>
                        <input id="productImage" type="file" accept="image/*"
                            class="block w-full text-xs text-slate-300 file:mr-3 file:rounded-full file:border-0 file:bg-accent file:px-3 file:py-1.5 file:text-xs file:font-medium file:text-primary-900 hover:file:bg-white" />
                    </div>

                    <div class="flex items-center justify-between pt-2">
                        <button type="submit" id="submitBtn"
                            class="inline-flex items-center gap-2 rounded-full bg-accent text-primary-900 px-4 py-2 text-xs font-medium tracking-wider uppercase hover:bg-white transition disabled:opacity-50">
                            <span id="submitText">Enregistrer</span>
                            <i id="submitIcon" class="fa-solid fa-floppy-disk"></i>
                            <div id="submitSpinner" class="hidden spinner"></div>
                        </button>
                        <button type="button" id="cancelBtn"
                            class="text-xs text-slate-400 hover:text-slate-200 underline">
                            Annuler
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Section Commandes -->
        <div class="mt-8 bg-primary-950/60 border border-white/10 rounded-3xl p-6">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-xl font-semibold tracking-wide">Commandes Clients</h2>
                <div class="flex items-center gap-3">
                    <select id="orderStatusFilter"
                        class="rounded-full bg-primary-900 border border-white/10 px-4 py-2 text-xs text-slate-200 focus:outline-none focus:ring-2 focus:ring-accent/60">
                        <option value="all">Toutes</option>
                        <option value="pending">En attente</option>
                        <option value="completed">Complétées</option>
                        <option value="cancelled">Annulées</option>
                    </select>
                </div>
            </div>

            <div class="overflow-auto">
                <table class="w-full text-sm">
                    <thead class="bg-primary-900/80 border-b border-white/10 text-slate-300">
                        <tr>
                            <th class="text-left px-3 py-2 font-medium">Date</th>
                            <th class="text-left px-3 py-2 font-medium">Client</th>
                            <th class="text-left px-3 py-2 font-medium">Téléphone</th>
                            <th class="text-left px-3 py-2 font-medium">Ville</th>
                            <th class="text-left px-3 py-2 font-medium">Articles</th>
                            <th class="text-right px-3 py-2 font-medium">Total</th>
                            <th class="text-center px-3 py-2 font-medium">Statut</th>
                            <th class="text-right px-3 py-2 font-medium">Actions</th>
                        </tr>
                    </thead>
                    <tbody id="ordersList" class="divide-y divide-white/5"></tbody>
                </table>
            </div>
            <div id="loadingOrders" class="text-center py-8">
                <div class="spinner-lg mx-auto"></div>
                <p class="text-sm text-slate-400 mt-3">Chargement des commandes...</p>
            </div>
            <div id="noOrders" class="hidden text-center py-8">
                <i class="fa-solid fa-inbox text-4xl text-slate-600 mb-3"></i>
                <p class="text-sm text-slate-400">Aucune commande pour le moment</p>
            </div>
        </div>
    </main>

    <script type="module" src="./admin.js"></script>
</body>

</html>